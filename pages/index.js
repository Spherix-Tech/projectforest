import Head from "next/head";
import Navbar from "../src/components/navbar/Navbar";
import Hero from "../src/components/hero/Hero";
import Footer from "../src/components/footer/Footer";
import HowItWorks from "../src/components/how-it-works/HowItWorks";
import MailingList from "../src/components/mailing-list/MailingList";
import Reforestation from "../src/components/reforestation/Reforestation";
import NFTSlider from "../src/components/NFT/NFTSlider";
import Roadmap from "../src/components/roadmap/Roadmap";
import Token from "../src/components/token/Token";
import Aos from "aos";
import "aos/dist/aos.css";
import React, { useEffect } from "react";
import Scrollbar from "smooth-scrollbar";

import { gsap, TimelineLite, Power3 } from "gsap";

export default function Home() {
  var options = {
    damping: 0.09,
  };
  const Scroll = () => {
    useEffect(() => {
      Scrollbar.init(document.body, options);
    }, []);
    return null;
  };

  let t1 = new TimelineLite({ delay: 0.3 });

  useEffect(() => {
    Aos.init({ duration: 1000 });


    gsap.fromTo(
      ".anime-section",
      {
        opacity: 0,
        y: "200",
        scrollTrigger: {
          trigger: ".anime-section",
          start: "top 50%",
          end: "bottom 80%",
          toggleActions: "restart complete reverse reset",
        },
      },
      {
        duration: 3,
        opacity: 1,
        y: "-0",
        ease: "ease-in",
        scrollTrigger: {
          trigger: ".anime-section",
          pin: true, // pin the trigger element while active
          start: "top 80%", // when the top of the trigger hits the top of the viewport
          end: "+=500", // end after scrolling 500px beyond the start
          toggleActions: "restart complete reverse reset",
        },
      }
    );

    // gsap.to(
    //   ".footer-section",
    //   {
    //     opacity: 1,
    //     y: "1000",
    //     scrollTrigger: {
    //       trigger: ".footer-section",
    //       start: "top 50%",
    //       end: "bottom 80%",
    //       toggleActions: "restart complete reverse reset",
    //     },
    //   }
    //   );
  }, []);




  return (
    <div>
      <Head>
        <title>Project Forest</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="scrolling">
        <Navbar />

        {/* Smooth Scroll for the page */}
        <Scroll />

        {/* Hero Section */}
        <Hero />

        <div className="anime-section"> 
        {/* How It Works Section */}
        <HowItWorks />

        {/* NFT Slider Section */}
        <NFTSlider />

        {/* Token Section */}
        <Token />

        {/* Roadmap Section */}
        <Roadmap />

        {/* Reforestation Section */}
        <Reforestation />

        {/* Newsletter Section */}
        <MailingList />
        <Footer />
        </div>
      </main>
    </div>
  );
}