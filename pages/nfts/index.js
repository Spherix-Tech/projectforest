import Head from "next/head";
import Navbar from "../../src/components/navbar/Navbar";
import Hero from "../../src/components/hero/Hero";
import Footer from "../../src/components/footer/Footer";
import HowItWorks from "../../src/components/how-it-works/HowItWorks";
import MailingList from "../../src/components/mailing-list/MailingList";
import Reforestation from "../../src/components/reforestation/Reforestation";
import NFTSlider from "../../src/components/NFT/NFTSlider";
import Roadmap from "../../src/components/roadmap/Roadmap";
import Token from "../../src/components/token/Token";
import React, { useEffect, useState } from "react";
import { ScrollTrigger } from "gsap/dist/ScrollTrigger";
// import { ScrollSmoother } from "gsap-trial/dist/ScrollSmoother";
import { ScrollToPlugin } from "gsap/dist/ScrollToPlugin";
import { gsap, Power3 } from "gsap";
import { getDataBySectionName } from "../../src/services/dataService";
import PageGradientTitle from "../../src/components/shared/PageGradientTitle";
import ImageComponent from "../../src/components/shared/ImageComponent";
import NFTPageDottedImageBox from "../../src/components/shared/NFTPageDottedImageBox";
import { getAllTreePartsSliderData } from "../../src/services/data-files/TreePartsSliderData";
const DataArr = getDataBySectionName("nft");
const partsSliderData = getAllTreePartsSliderData();

export default function NFTs() {
  const [partsSliderSelectedIndex, setPartsSliderSelectedIndex] = useState(0);
  const changeSlide = (currentIndex, movementDirection) => {
    let newIndex =
      movementDirection == "left" ? currentIndex - 1 : currentIndex + 1;
    if (newIndex >= 0 && newIndex <= partsSliderData.length - 1) {
      setPartsSliderSelectedIndex(newIndex);
    }
  };
  useEffect(() => {
    gsap.registerPlugin(ScrollTrigger);
    gsap.registerPlugin(ScrollToPlugin);

    // let smoother = ScrollSmoother.create({
    //   wrapper: '#smooth-wrapper',
    //   content: '#smooth-content',
    //   smooth: 2,
    //   smoothTouch: 0.1,

    // });

    gsap.fromTo("#home", { opacity: 0 }, { opacity: 1, duration: 1 });
    gsap.fromTo(
      ".how-section",
      {
        opacity: 0,
        y: 500,
      },
      {
        opacity: 1,
        duration: 3,
        ease: Power3.easeInOut,
        y: 0,
        // scrollTrigger: {
        //   trigger: "#how-it",
        //   start: "top top",
        //   end: "bottom center",
        //   scrub: true,
        // }
      }
    );
  }, []);

  return (
    <div>
      <Head>
        <title>Project Forest</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <div id="smooth-wrapper">
          <div id="smooth-content">
            <div className="full-page-bg-img">
              <Navbar />
              <div className="section-spacing pb-0 mb-[2rem] md:mb-0">
                <PageGradientTitle
                  title={"Sustainability Starts Here"}
                  className="uppercase"
                />
                {/* <p className="page-description mt-4">
                  Take the First Step Towards a Greener Tomorrow <br /> Get your
                  green thumb
                </p> */}
              </div>
              <NFTSlider className="pt-0" hideTitle={true} DataArr={DataArr} />

              <div className="section-spacing">
                <PageGradientTitle
                  title="Tree NFTs — A Closer Look"
                  className="uppercase"
                />
                <p className="page-description my-[1rem] md:my-[2rem] text-[12px] font-normal md:text-[15px]">
                  Trees are the main NFTs in Project Forest and are required to
                  enter into the Project Forest grow-to-earn app. These trees
                  when first planted are mere seeds that can be cultivated and
                  grown by daily nurturing, watering and nourishing using
                  fertilizers. In order to get their hands on a Project Forest
                  tree NFT, players must participate during the official
                  genesis airdrop event before the launch of the public beta.
                  Later, players can participate in the blind box sales or
                  purchase them through the secondary marketplace.
                </p>
                <ImageComponent
                  className="w-full"
                  src="assets/nft/nft-tree-banner.svg"
                />
              </div>

              <div className="section-spacing">
                <PageGradientTitle title="Appearance" className="uppercase" />
                <p className="page-description my-[1rem] md:my-[2rem] text-[12px] font-normal md:text-[15px]">
                  Tree NFTs in Project Forest are differentiated to the extent
                  that no two Tree NFTs are alike. The appearance of Tree NFTs
                  helps physically distinguish them from other NFTs and makes
                  for a diverse and beautiful NFT Forest that the player owns
                  and cultivates.
                </p>
                <p className="page-description my-[1rem] md:my-[2rem] text-[13px] font-semibold md:text-[16px]">
                  Each Tree NFT is made up of 5 distinct parts that make up its
                  appearance. These include:
                </p>
                {/* Slider Row */}
                {partsSliderData.map((item, index) => {
                  return (
                    <div
                      key={index}
                      className={
                        index == partsSliderSelectedIndex ? " block" : "hidden"
                      }
                    >
                      <div className="flex justify-center items-center mt-[2rem] lg:mt-[3rem] relative">
                        <div className="absolute left-1">
                          <p></p>
                          <ImageComponent
                            className="w-[35px] cursor-pointer"
                            src="assets/nft/slider-left-arrow.svg"
                            onClick={() => changeSlide(index, "left")}
                          />
                        </div>
                        <ImageComponent
                          className="h-[500px]"
                          src={`assets/nft/tree-parts-slider/${item.sliderImageName}`}
                        />
                        <div className="absolute right-1">
                          <ImageComponent
                            className="w-[35px] cursor-pointer"
                            src="assets/nft/slider-right-arrow.svg"
                            onClick={() => changeSlide(index, "right")}
                          />
                        </div>
                      </div>
                      <div className="flex justify-between flex-wrap md:flex-nowrap xl:flex-wrap  items-center mt-[2rem] lg:mt-[3rem]">
                        {/* Slider sub images row */}
                        {item.sliderPartsArray.map((subItem, ind) => {
                          return (
                            <div key={ind}>
                              <NFTPageDottedImageBox
                                title={subItem.title}
                                src={`assets/nft/tree-parts-slider/${subItem.partImageName}`}
                              />
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  );
                })}
              </div>

              <Footer />
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}
